# HTTP & Networking Notes

## HTTP Overview

**What is HTTP?**
- HTTP (Hypertext Transfer Protocol) is an **application‑layer protocol** used to fetch resources (HTML, images, videos) on the Web. It follows a **client‑server model**: clients (like browsers) send requests and servers send responses. :contentReference[oaicite:0]{index=0}

**Key Characteristics of HTTP**
- Designed to be **simple and human‑readable** (especially in HTTP/1.x). :contentReference[oaicite:1]{index=1}  
- **Stateless**: each request/response pair is independent; the protocol itself doesn’t retain session state. :contentReference[oaicite:2]{index=2}  
- **Extensible**: headers allow additional semantics, features, and metadata. :contentReference[oaicite:3]{index=3}

**HTTP & Connections**
- HTTP sits on top of a **reliable transport** (usually TCP). :contentReference[oaicite:4]{index=4}  
- Early HTTP/1.0 opened new connections per request; later versions improved with *persistent connections* and *multiplexing* (HTTP/2) to boost efficiency. :contentReference[oaicite:5]{index=5}  
- Protocols like **QUIC** (used in HTTP/3) build on UDP to increase performance. :contentReference[oaicite:6]{index=6}

## Evolution of HTTP

**Major Versions**
- **HTTP/0.9 → HTTP/1.0**: initial simple design for hypertext. :contentReference[oaicite:7]{index=7}  
- **HTTP/1.1**: persistent connections, pipelining, richer semantics. :contentReference[oaicite:8]{index=8}  
- **HTTP/2**: binary framing, header compression, concurrent streams. :contentReference[oaicite:9]{index=9}  
- **HTTP/3**: replaces TCP with QUIC (UDP‑based), reduces latency. :contentReference[oaicite:10]{index=10}

**Standardization**
- HTTP spec split into modular RFCs (semantics, caching, each version). :contentReference[oaicite:11]{index=11}

## A Typical HTTP Session

**Session Phases**
1. Client initiates a **TCP connection**.
2. Client sends request(s); server processes and sends back response(s). :contentReference[oaicite:12]{index=12}  
3. For HTTP/1.1+, connection stays open, allowing multiple requests. :contentReference[oaicite:13]{index=13}

**Request Structure**
- **Request line**: method, path, HTTP version.  
- **Headers**: metadata (like content type, encoding).  
- **Optional body**: for methods like `POST`, `PUT`. :contentReference[oaicite:14]{index=14}

**Response Structure**
- **Status line**: HTTP version, status code, reason phrase.  
- **Headers**: metadata (cache rules, content type).  
- **Optional body**: resource content. :contentReference[oaicite:15]{index=15}

## Sessions in HTTP

**Stateless vs Stateful**
- By default, HTTP is **stateless**; requests don’t carry memory of prior ones. :contentReference[oaicite:16]{index=16}  
- **HTTP cookies** attach small pieces of data to responses/requests, enabling a *session context* across multiple requests. :contentReference[oaicite:17]{index=17}

**Cookies & Session Management**
- Server sends a `Set‑Cookie` header; browser stores and sends it on future requests for that domain. :contentReference[oaicite:18]{index=18}  
- Cookies can represent session IDs, user preferences, login status, etc. :contentReference[oaicite:19]{index=19}  
- Cookie attributes (`Secure`, `HttpOnly`, `SameSite`) control security & scope. :contentReference[oaicite:20]{index=20}

## HTTP Messages

**Types of Messages**
- **Requests** (client → server): ask for actions on resources.  
- **Responses** (server → client): carry results, status, data. :contentReference[oaicite:21]{index=21}

**Message Anatomy**
Both requests and responses generally contain:
1. **Start line** (request line or status line).  
2. **Headers** (metadata).  
3. Blank line.  
4. **Body** (optional). :contentReference[oaicite:22]{index=22}

**HTTP/2 & HTTP/3**
- Messages are encoded in **frames** (binary) for efficiency; semantics remain consistent with older text formats. :contentReference[oaicite:23]{index=23}

## HTTP Methods

HTTP defines several *verbs* indicating the action desired:

| Method | Purpose |
|--------|---------|
| `GET` | Retrieve representation of a resource. |
| `HEAD` | Same as GET but without body. |
| `POST` | Send data to server (often for creation). |
| `PUT` | Replace resource. |
| `PATCH` | Partially modify resource. |
| `DELETE` | Remove resource. |
| `OPTIONS` | List supported methods/options. |
| `CONNECT` | Establish a tunnel (e.g., for proxies). |
| `TRACE` | Diagnostic loop‑back test. |  
:contentReference[oaicite:24]{index=24}

**Properties**
- Methods can be **safe** (don’t change server state), **idempotent**, or **cacheable**. :contentReference[oaicite:25]{index=25}

## HTTP Status Codes

HTTP responses include numeric codes grouped by purpose:

| Group | Range | Meaning |
|-------|-------|---------|
| Informational | `100–199` | Continue / processing |
| Successful | `200–299` | OK, created, accepted, etc |
| Redirection | `300–399` | Resource moved or requires action |
| Client Error | `400–499` | Bad request, unauthorized, not found |
| Server Error | `500–599` | Server failed to process request |  
:contentReference[oaicite:26]{index=26}

Examples:
- `200 OK`: request succeeded.  
- `404 Not Found`: resource missing.  
- `500 Internal Server Error`: server failure. :contentReference[oaicite:27]{index=27}

## TCP Connection Establishment

**Three‑Way Handshake**
1. **SYN**: Client → Server requests connection.  
2. **SYN‑ACK**: Server acknowledges and replies.  
3. **ACK**: Client acknowledges server; connection established. :contentReference[oaicite:28]{index=28}

This negotiates sequence numbers and synchronizes both ends before any data is sent. :contentReference[oaicite:29]{index=29}

## TLS (Transport Layer Security)

**Purpose**
- Adds **encryption**, **integrity**, and **server authentication** to TCP, forming HTTPS. :contentReference[oaicite:30]{index=30}

**TLS Handshake (Simplified)**
1. **ClientHello**: client proposes TLS version and cipher suites.  
2. **ServerHello + Certificate**: server picks ciphers, sends its cert.  
3. **Key Exchange**: client and server derive shared symmetric keys securely (e.g., via Diffie‑Hellman).  
4. **Finish**: secure encrypted communication begins. :contentReference[oaicite:31]{index=31}

TLS uses **asymmetric cryptography** to exchange shared symmetric keys, then uses fast symmetric encryption for the session. :contentReference[oaicite:32]{index=32}

## Mutual TLS (mTLS)

**Difference from TLS**
- In **standard TLS**, only the server proves identity using its certificate.  
- In **mTLS**, **both** client and server present and verify certificates. :contentReference[oaicite:33]{index=33}

**mTLS Handshake Steps**
1. ClientHello.  
2. ServerHello + server certificate.  
3. **CertificateRequest**: server requests client cert.  
4. Client sends its certificate.  
5. Both verify certificates with trusted CAs.  
6. Shared symmetric keys are established; encrypted session begins. :contentReference[oaicite:34]{index=34}

**Security Benefits**
- Both endpoints are authenticated, reducing risks like impersonation and certain MITM attacks. :contentReference[oaicite:35]{index=35}

